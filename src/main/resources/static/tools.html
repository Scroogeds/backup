<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tools</title>
    <script src="../../js/jquery-3.3.1.min.js"></script>
    <link href="../../css/backup.css" type="text/css" rel="stylesheet" />
</head>
<body>
    <h1>安装相关工具(确保服务器可以连接外网)</h1> <br /> <br />
    <div><button class="but" onclick=javascrtpt:installSSHPass('tools')>sshpass安装</button></div>

    <div>
        <span>命令</span>
        <input id="executeCommand" name="executeCommand" placeholder="ls"/>
        <button class="but" onclick=javascrtpt:executeCommand()>执行</button>
    </div>

    <div><button class="but" onclick=javascrtpt:jump('index')>返回</button></div>
</body>
<script type="text/javascript">
    function jump(pageName){
        window.location.href = pageName + ".html";
    }
    function executeCommand() {
        $.ajax({
            type : 'GET',
            url : '/backup/command?cmd=' + $("#executeCommand").val(),
            success : function (result) {
                alert(result);
            }
        });
    }
    function installSSHPass() {
        $.ajax({
            type : 'GET',
            url : '/backup/command/install-sshpass',
            success : function (result) {
                alert(result);
            }
        });
    }

</script>
</html>